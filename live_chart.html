<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
</head>
<body style="width:auto; height:auto; background-color:#333">
    <div id="chart">
        <canvas id="myChart" style = "height: 500px; width: 90%;"></canvas>
    </div> 
</body>

<script> 
    var ctx = document.getElementById("myChart").getContext('2d');

    function DrawChart(ctx) {
        var d = $.getJSON('https://mariusano.github.io/live_sports_p/datas.json')
            .done(function (data) {
                var datas = {"type": "line", "data": {"labels": d.responseJSON["game_datas"]["score"], 
                "datasets": [
                {"data": d.responseJSON["game_datas"]["player_1_prob"], "borderColor": 'rgba(60, 180, 75, 1.0)', "fill": false, "pointBorderWidth": 10, "pointRadius": 3, "label": d.responseJSON["home"]}, 
                // {"data": [22, 30, 28, 35, 30, 12], "borderColor": (function(){ var gradient = ctx.createLinearGradient(0, 0, 1000, 0); gradient.addColorStop(0, 'rgba(230, 25, 75, 1.0)'); gradient.addColorStop(1, 'rgba(240, 50, 230, 1.0)'); return gradient})(), "fill": false, "pointBorderWidth": 10, "pointRadius": 3, "label": "Draw"}, 
                {"data": d.responseJSON["game_datas"]["player_2_prob"], "borderColor": 'rgba(255, 225, 25, 1.0)', "fill": false, "pointBorderWidth": 10, "pointRadius": 3, "label":d.responseJSON["away"]}]}, 
                "options": {"title": {"text": d.responseJSON["match"], "display": true, "fontSize": 22, "fontColor": "rgba(169, 169, 169, 1.0)"}, 
                            "legend": {"labels": {"fontColor": "rgba(169, 169, 169, 1.0)", "fullWidth": true}}, 
                            "scales": {"yAxes": [{"ticks": {"beginAtZero": true, "padding": 15, "max": 100, "fontColor": "rgba(169, 169, 169, 1.0)"}}],
                                        "xAxes": [{"ticks": {"fontColor": "rgba(169, 169, 169, 1.0)"}}]},
                            "animation": {"duration": 0},
                            "plugins": {}}}

                var myChart = new Chart(ctx, datas);
             }
            )     
    }

    DrawChart(ctx);

    setInterval(function () {
        document.getElementById("myChart").remove();
        canv = document.createElement('canvas');
        canv.id = 'myChart';
        canv.style =  "height: 500px; width: 90%;"
        document.getElementById("chart").append(canv);
        var ctx = document.getElementById("myChart").getContext('2d');
        // console.log(div);
        DrawChart(ctx);
    }, 5000);

</script>

</html>


<!-- {"type": "line", "data": {"labels": [0, 1, 2, 3, 4, 5], "datasets": [{"data": [55, 53, 54, 52, 62, 86], "borderColor": (function(){ var gradient = ctx.createLinearGradient(0, 0, 1000, 0); gradient.addColorStop(0, 'rgba(60, 180, 75, 1.0)'); gradient.addColorStop(1, 'rgba(145, 30, 180, 1.0)'); return gradient})(), "fill": false, "pointBorderWidth": 10, "pointRadius": 3, "label": "Home"}, {"data": [22, 30, 28, 35, 30, 12], "borderColor": (function(){ var gradient = ctx.createLinearGradient(0, 0, 1000, 0); gradient.addColorStop(0, 'rgba(230, 25, 75, 1.0)'); gradient.addColorStop(1, 'rgba(240, 50, 230, 1.0)'); return gradient})(), "fill": false, "pointBorderWidth": 10, "pointRadius": 3, "label": "Draw"}, {"data": [15, 17, 14, 12, 13, 6], "borderColor": (function(){ var gradient = ctx.createLinearGradient(0, 0, 1000, 0); gradient.addColorStop(0, 'rgba(255, 225, 25, 1.0)'); gradient.addColorStop(1, 'rgba(245, 130, 49, 1.0)'); return gradient})(), "fill": false, "pointBorderWidth": 10, "pointRadius": 3, "label": "Away"}]}, "options": {"title": {"text": "Wildlife Populations", "display": true, "fontSize": 18}, "legend": {"position": "Bottom", "labels": {"fontColor": "rgba(169, 169, 169, 1.0)", "fullWidth": true}}, "scales": {"yAxes": [{"ticks": {"beginAtZero": true, "padding": 15, "max": 200}}]}, "plugins": {}}}

'{"type": "line", "data": {"labels": [2017, 2018, 2019, 2020, 2021, 2022], "datasets": [{"data": [80, 60, 100, 80, 90, 60], "borderColor": (function(){ var gradient = ctx.createLinearGradient(0, 0, 1000, 0); gradient.addColorStop(0, \'rgba(60, 180, 75, 1.0)\'); gradient.addColorStop(1, \'rgba(145, 30, 180, 1.0)\'); return gradient})(), "fill": false, "pointBorderWidth": 10, "pointRadius": 3, "label": "Whales"}, {"data": [60, 50, 80, 120, 140, 180], "borderColor": (function(){ var gradient = ctx.createLinearGradient(0, 0, 1000, 0); gradient.addColorStop(0, \'rgba(230, 25, 75, 1.0)\'); gradient.addColorStop(1, \'rgba(240, 50, 230, 1.0)\'); return gradient})(), "fill": false, "pointBorderWidth": 10, "pointRadius": 3, "label": "Bears"}, {"data": [150, 80, 60, 30, 50, 30], "borderColor": (function(){ var gradient = ctx.createLinearGradient(0, 0, 1000, 0); gradient.addColorStop(0, \'rgba(255, 225, 25, 1.0)\'); gradient.addColorStop(1, \'rgba(245, 130, 49, 1.0)\'); return gradient})(), "fill": false, "pointBorderWidth": 10, "pointRadius": 3, "label": "Dolphins"}]}, "options": {"title": {"text": "Wildlife Populations", "display": true, "fontSize": 18}, "legend": {"position": "Bottom", "labels": {"fontColor": "rgba(169, 169, 169, 1.0)", "fullWidth": true}}, "scales": {"yAxes": [{"ticks": {"beginAtZero": true, "padding": 15, "max": 200}}]}, "plugins": {}}}' -->